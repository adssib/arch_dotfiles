# █░█░█ █ █▄░█ █▀▄ █▀█ █░█░█   █▀█ █░█ █░░ █▀▀ █▀
# ▀▄▀▄▀ █ █░▀█ █▄▀ █▄█ ▀▄▀▄▀   █▀▄ █▄█ █▄▄ ██▄ ▄█

# See https://wiki.hyprland.org/Configuring/Window-Rules/

general {
     gaps_in = 5
     gaps_out = 7
     border_size = 0  # remove all window borders
     layout = dwindle
}

# idleinhibit rules
windowrulev2 = idleinhibit fullscreen,class:^(.*celluloid.*)$|^(.*mpv.*)$|^(.*vlc.*)$
windowrulev2 = idleinhibit fullscreen,class:^(.*[Ss]potify.*)$
windowrulev2 = idleinhibit fullscreen,class:^(.*LibreWolf.*)$|^(.*floorp.*)$|^(.*brave-browser.*)$|^(.*firefox.*)$|^(.*chromium.*)$|^(.*zen.*)$|^(.*vivaldi.*)$

# Picture-in-Picture
windowrulev2 = float,title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = keepaspectratio,title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = move 73% 72%,title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = size 25%,title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = pin,title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$

# Opacity rules
windowrulev2 = opacity 0.90 0.90,class:^(firefox)$
windowrulev2 = opacity 0.90 0.90,class:^(brave-browser)$
windowrulev2 = opacity 0.80 0.80,class:^(code-oss)$
windowrulev2 = opacity 0.80 0.80,class:^([Cc]ode)$
windowrulev2 = opacity 0.80 0.80,class:^(code-url-handler)$
windowrulev2 = opacity 0.80 0.80,class:^(code-insiders-url-handler)$
windowrulev2 = opacity 0.80 0.80,class:^(kitty)$
windowrulev2 = opacity 0.80 0.80,class:^(org.kde.dolphin)$
windowrulev2 = opacity 0.80 0.80,class:^(org.kde.ark)$
windowrulev2 = opacity 0.80 0.80,class:^(nwg-look)$
windowrulev2 = opacity 0.80 0.80,class:^(qt5ct)$
windowrulev2 = opacity 0.80 0.80,class:^(qt6ct)$
windowrulev2 = opacity 0.80 0.80,class:^(kvantummanager)$
windowrulev2 = opacity 0.80 0.70,class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = opacity 0.80 0.70,class:^(blueman-manager)$
windowrulev2 = opacity 0.80 0.70,class:^(nm-applet)$
windowrulev2 = opacity 0.80 0.70,class:^(nm-connection-editor)$
windowrulev2 = opacity 0.80 0.70,class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrulev2 = opacity 0.80 0.70,class:^(polkit-gnome-authentication-agent-1)$
windowrulev2 = opacity 0.80 0.70,class:^(org.freedesktop.impl.portal.desktop.gtk)$
windowrulev2 = opacity 0.80 0.70,class:^(org.freedesktop.impl.portal.desktop.hyprland)$
windowrulev2 = opacity 0.70 0.70,class:^([Ss]team)$
windowrulev2 = opacity 0.70 0.70,class:^(steamwebhelper)$
windowrulev2 = opacity 0.70 0.70,class:^([Ss]potify)$
windowrulev2 = opacity 0.70 0.70,initialTitle:^(Spotify Free)$
windowrulev2 = opacity 0.70 0.70,initialTitle:^(Spotify Premium)$

# IDE exceptions
windowrulev2 = opacity 1.0 override,class:^(Code)$
windowrulev2 = opacity 1.0 override,class:^(jetbrains-idea-ce)$

# App opacity
windowrulev2 = opacity 0.90 0.90,class:^(com.github.rafostar.Clapper)$
windowrulev2 = opacity 0.80 0.80,class:^(com.github.tchx84.Flatseal)$
windowrulev2 = opacity 0.80 0.80,class:^(hu.kramo.Cartridges)$
windowrulev2 = opacity 0.80 0.80,class:^(com.obsproject.Studio)$
windowrulev2 = opacity 0.80 0.80,class:^(gnome-boxes)$
windowrulev2 = opacity 0.80 0.80,class:^(vesktop)$
windowrulev2 = opacity 0.80 0.80,class:^(discord)$
windowrulev2 = opacity 0.80 0.80,class:^(WebCord)$
windowrulev2 = opacity 0.80 0.80,class:^(ArmCord)$
windowrulev2 = opacity 0.80 0.80,class:^(app.drey.Warp)$
windowrulev2 = opacity 0.80 0.80,class:^(net.davidotek.pupgui2)$
windowrulev2 = opacity 0.80 0.80,class:^(yad)$
windowrulev2 = opacity 0.80 0.80,class:^(Signal)$
windowrulev2 = opacity 0.80 0.80,class:^(io.github.alainm23.planify)$
windowrulev2 = opacity 0.80 0.80,class:^(io.gitlab.theevilskeleton.Upscaler)$
windowrulev2 = opacity 0.80 0.80,class:^(com.github.unrud.VideoDownloader)$
windowrulev2 = opacity 0.80 0.80,class:^(io.gitlab.adhami3310.Impression)$
windowrulev2 = opacity 0.80 0.80,class:^(io.missioncenter.MissionCenter)$
windowrulev2 = opacity 0.80 0.80,class:^(io.github.flattool.Warehouse)$

# Float windows
windowrulev2 = float,class:^(org.kde.dolphin)$,title:^(Progress Dialog — Dolphin)$
windowrulev2 = float,class:^(org.kde.dolphin)$,title:^(Copying — Dolphin)$
windowrulev2 = float,title:^(About Mozilla Firefox)$
windowrulev2 = float,class:^(firefox)$,title:^(Picture-in-Picture)$
windowrulev2 = float,class:^(firefox)$,title:^(Library)$
windowrulev2 = float,class:^(kitty)$,title:^(top)$
windowrulev2 = float,class:^(kitty)$,title:^(btop)$
windowrulev2 = float,class:^(kitty)$,title:^(htop)$
windowrulev2 = float,class:^(vlc)$
windowrulev2 = float,class:^(kvantummanager)$
windowrulev2 = float,class:^(qt5ct)$
windowrulev2 = float,class:^(qt6ct)$
windowrulev2 = float,class:^(nwg-look)$
windowrulev2 = float,class:^(org.kde.ark)$
windowrulev2 = float,class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = float,class:^(blueman-manager)$
windowrulev2 = float,class:^(nm-applet)$
windowrulev2 = float,class:^(nm-connection-editor)$
windowrulev2 = float,class:^(org.kde.polkit-kde-authentication-agent-1)$

windowrulev2 = float,class:^(Signal)$
windowrulev2 = float,class:^(com.github.rafostar.Clapper)$
windowrulev2 = float,class:^(app.drey.Warp)$
windowrulev2 = float,class:^(net.davidotek.pupgui2)$
windowrulev2 = float,class:^(yad)$
windowrulev2 = float,class:^(eog)$
windowrulev2 = float,class:^(io.github.alainm23.planify)$
windowrulev2 = float,class:^(io.gitlab.theevilskeleton.Upscaler)$
windowrulev2 = float,class:^(com.github.unrud.VideoDownloader)$
windowrulev2 = float,class:^(io.gitlab.adhami3310.Impression)$
windowrulev2 = float,class:^(io.missioncenter.MissionCenter)$

# Common modals
windowrulev2 = float,title:^(Open)$
windowrulev2 = float,title:^(Authentication Required)$
windowrulev2 = float,title:^(Add Folder to Workspace)$
windowrulev2 = float,title:^(Choose Files)$
windowrulev2 = float,title:^(Save As)$
windowrulev2 = float,title:^(Confirm to replace files)$
windowrulev2 = float,title:^(File Operation Progress)$
windowrulev2 = float,class:^([Xx]dg-desktop-portal-gtk)$
windowrulev2 = float,title:^(File Upload)(.*)$
windowrulev2 = float,title:^(Choose wallpaper)(.*)$
windowrulev2 = float,title:^(Library)(.*)$
windowrulev2 = float,class:^(.*dialog.*)$
windowrulev2 = float,title:^(.*dialog.*)$

# █░░ ▄▀█ █▄█ █▀▀ █▀█   █▀█ █░█ █░░ █▀▀ █▀
# █▄▄ █▀█ ░█░ ██▄ █▀▄   █▀▄ █▄█ █▄▄ ██▄ ▄█

layerrule {
name = wofi-blur
match:namespace = wofi
blur = on
}
layerrule {
name = notifications-blur
match:namespace = notifications
blur = on
ignore_alpha = 0.5
}
layerrule {
name = swaync-notifications
match:namespace = swaync-notification-window
blur = on
ignore_alpha = 0.5
}
layerrule {
name = swaync-control
match:namespace = swaync-control-center
blur = on
ignore_alpha = 0.5
}
layerrule {
name = logout-dialog
match:namespace = logout_dialog
blur = on
}